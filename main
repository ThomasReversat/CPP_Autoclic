#include <iostream>
#include <windows.h> // SDK windows
#include <windowsx.h>
#include <string>
#include "Cycle.hpp"

using namespace std;
#define _WIN32_WINNT 0x0500
// definition des fonctions clics ici
void clic_ici(int x,int y)
{
    INPUT i[2];
    memset(i, 0, sizeof(i));
    i[0].type = i[1].type = INPUT_MOUSE;
    i[0].mi.dx = (65535. / (double)GetSystemMetrics(SM_CXSCREEN)) * x;
    i[0].mi.dy = (65535. / (double)GetSystemMetrics(SM_CYSCREEN)) * y;
    i[0].mi.dwFlags = MOUSEEVENTF_MOVE|MOUSEEVENTF_ABSOLUTE|MOUSEEVENTF_LEFTDOWN;
    i[1].mi.dwFlags = MOUSEEVENTF_LEFTUP;
    SendInput(2, i, sizeof(INPUT));
}

void enchainer_clic(int x,int y,int nb)
{
    for(int i=0;i<nb;i++) // suite de clics (de repetitions)
    {
        clic_ici(x,y); // on enchaine nb clics
    }
}

void clic_tache_duree_simple(int x, int y, std::string tache)
{
    /* realise un clique Ã  la position (x,y) pour une tache donnee */
    cout <<"Veuillez saisir une tache"<<endl;
    cin >>tache;
    clic_ici(x,y);
}
int main() {

    int tache(0);
    cout <<"Veuillez saisir un entier"<<endl;
    cin >> tache;
    switch (tache)
    {
        case 0 : cout << "Click Interval"<<endl; // tache 1
        break;
        case 1: cout <<"Click Options"<<endl; // tache 2
        break;
        case 2 : cout <<"Click Repeat"<<endl; // tache 3
        break;
        case 3 : cout <<"Cursor Position"<<endl; // tache 4
        break;
        case 4 : cout <<"Autre options"<<endl; // tache 5
        break;
        default : cout <<"saisir un chiffre entre 1 et 4"<<endl;


    }

   // enchainer_clic(10,3,10);
    /* =================================================================================
     *
     *
     *
     */

    SetCursorPos(0,0); // placer le curseur n'importe ou sur l'ecran
    Sleep(5000);
    clic_tache_duree_simple(10,10,"click options");


    return 0;
}


